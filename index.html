<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Nosso Amor em Memórias</title>
  <link href="https://fonts.googleapis.com/css2?family=Georgia:wght@400;700&family=Quicksand:wght@400;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
  <style>
    body {
      min-height: 100vh;
      margin: 0;
      font-family: 'Georgia', 'Quicksand', serif;
      background: linear-gradient(135deg, #131313 0%, #181826 100%) !important;
      overflow-x: hidden;
      position: relative;
      z-index: 1;
    }
    #particles-bg {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 0;
      pointer-events: none;
      opacity: 0.32;
    }
    #hearts-bg {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 1;
      pointer-events: none;
      opacity: 0.35;
    }
    .flower {
      position: fixed;
      z-index: 2;
      pointer-events: none;
      opacity: 0.7;
      will-change: transform;
    }
    .emoji-rain {
      position: fixed;
      top: -48px;
      z-index: 9;
      pointer-events: none;
      animation: emoji-fall 4.3s linear infinite;
      user-select: none;
      will-change: transform;
      filter: drop-shadow(0 2px 8px #0006);
    }
    @keyframes emoji-fall {
      to {
        transform: translateY(105vh) rotate(24deg) scale(1.05);
        opacity: 0.88;
      }
    }
    header {
      color: #ffd6fa;
      text-shadow: 0 2px 24px #c04fb4, 0 0 7px #fff;
      font-size: 2.7em;
      font-family: 'Dancing Script', cursive;
      font-weight: bold;
      margin: 36px 0 18px 0;
      letter-spacing: 2px;
      text-align: center;
      z-index: 2;
      position: relative;
      background: linear-gradient(90deg, #c04fb480 40%, #a88beb42 100%);
      border-radius: 18px;
      padding: 0.27em 0.55em;
      box-shadow: 0 0 32px #fff4, 0 0 2px #d47fb955;
      backdrop-filter: blur(3px);
      user-select: none;
      border: 2.5px solid #ffd6fa;
      animation: pulseGlow 4s infinite alternate;
    }
    @keyframes pulseGlow {
      0% { box-shadow: 0 0 32px #c04fb444, 0 0 2px #d47fb955; }
      100% { box-shadow: 0 0 60px #ffd6fa99, 0 0 8px #fff8; }
    }
    .slideshow-container {
      position: relative;
      width: 99vw;
      max-width: 600px;
      height: 70vw;
      max-height: 500px;
      margin: 35px auto 36px auto;
      border-radius: 36px;
      overflow: hidden;
      box-shadow: 0 8px 58px #d47fb955, 0 4px 32px #fff6;
      background: rgba(255,255,255,0.13);
      backdrop-filter: blur(10px);
      border: 3.5px solid #ffd6fa;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .slide-img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 34px;
      border: 5px solid #c04fb4cc;
      opacity: 0;
      z-index: 1;
      transition: opacity 1.2s cubic-bezier(.4,0,.2,1);
      filter: brightness(1.03) saturate(1.22) drop-shadow(0 4px 32px #c04fb488);
      box-shadow: 0 0 0 9px #fff3, 0 4px 32px #c04fb422;
      transform: scale(1.02);
    }
    .slide-img.active {
      opacity: 1;
      z-index: 2;
      animation: imgFadeIn 2s, kenburns 17s linear alternate infinite;
    }
    @keyframes imgFadeIn {
      from { filter: blur(8px) brightness(0.7); }
      to { filter: blur(0) brightness(1.03); }
    }
    @keyframes kenburns {
      0% {transform: scale(1.02);}
      100% {transform: scale(1.11);}
    }
    .caption {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      padding: 32px 22px 20px 22px;
      background: linear-gradient(0deg, rgba(60,18,80,0.87) 80%, transparent 100%);
      color: #ffd6fa;
      font-size: 1.24em;
      font-family: 'Georgia', serif;
      font-weight: 500;
      text-shadow: 0 3px 18px #000a, 0 0 4px #b06dbe;
      border-radius: 0 0 34px 34px;
      min-height: 88px;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      letter-spacing: 0.4px;
      box-sizing: border-box;
      transition: opacity 1s, transform 1s;
      opacity: 1;
      backdrop-filter: blur(7px);
      background-blend-mode: lighten;
      border-top: 1.7px solid #ffd6fa66;
      margin-bottom: 2px;
      animation: captionGlow 3.5s infinite alternate;
    }
    @keyframes captionGlow {
      0% { box-shadow: 0 0 18px #fff3; }
      100% { box-shadow: 0 0 28px #ffd6fa88; }
    }
    .caption.hide {
      opacity: 0;
      transform: translateY(38px);
      transition: opacity 1s, transform 1s;
    }
    /* Botão de música */
    .music-control {
      position: fixed;
      bottom: 22px;
      left: 0; right: 0;
      display: flex;
      justify-content: center;
      z-index: 99;
      pointer-events: none;
    }
    .music-btn {
      pointer-events: all;
      background: rgba(255,255,255,0.92);
      border: 2.5px solid #c04fb4;
      border-radius: 32px;
      padding: 15px 44px;
      color: #c04fb4;
      font-family: 'Quicksand', 'Georgia', serif;
      font-size: 1.15em;
      font-weight: bold;
      box-shadow: 0 3px 16px #d47fb933;
      cursor: pointer;
      outline: none;
      transition: background .2s, color .2s, border .2s;
      display: flex;
      align-items: center;
      gap: 14px;
      user-select: none;
      backdrop-filter: blur(2px);
      border-bottom: 4px solid #ffd6fa;
      margin-bottom: 2vw;
    }
    .music-btn.playing {
      background: #c04fb4;
      color: #fff;
      border-color: #fff;
    }
    .music-btn svg {
      width: 27px; height: 27px;
      vertical-align: middle;
      filter: drop-shadow(0 0 4px #fff9);
    }
    /* Botão de carta */
    #letter-btn {
      position: fixed;
      z-index: 100;
      background: #fff8;
      border-radius: 22px;
      padding: 11px 28px;
      font-size: 1.18em;
      color: #c04fb4;
      border: 2.5px solid #c04fb4;
      box-shadow: 0 2px 14px #c04fb433;
      cursor: pointer;
      transition: background .2s, color .2s;
      font-family: 'Quicksand', 'Georgia', serif;
      font-weight: 700;
      bottom: 100px;
      right: 30px;
    }
    #letter-btn:hover {
      background: #ffd6fa;
      color: #c04fb4;
      border-color: #fff;
      box-shadow: 0 0 24px #fff8;
    }
    /* Modal da carta */
    #letter-modal {
      display: none;
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      background: #0008;
      z-index: 120;
      align-items: center;
      justify-content: center;
    }
    #letter-modal .letter-content {
      background: #fff;
      padding: 38px 22px;
      border-radius: 28px;
      max-width: 400px;
      margin: auto;
      color: #c04fb4;
      font-family: 'Georgia',serif;
      font-size: 1.16em;
      box-shadow: 0 0 60px #ffd6fa55;
      line-height: 1.5;
    }
    #letter-modal .close-letter {
      display: block;
      margin: 25px auto 0 auto;
      background: #c04fb4;
      color: #fff;
      border: none;
      border-radius: 14px;
      padding: 10px 32px;
      font-size: 1.07em;
      cursor: pointer;
      font-family: 'Quicksand',cursive;
    }
    /* Detalhes decorativos extra */
    .decor-top, .decor-bottom {
      position: fixed;
      left: 0;
      width: 100vw;
      pointer-events: none;
      z-index: 15;
      opacity: 0.22;
      filter: blur(0.2px);
    }
    .decor-top {top: 0;}
    .decor-bottom {bottom: 0; transform: scaleY(-1);}
    /* Rodapé */
    footer {
      margin-top: 18vw;
      text-align: center;
      color: #ffd6fa;
      font-family: 'Dancing Script',cursive;
      font-size: 1.3em;
      letter-spacing: 1px;
      z-index: 10;
      position: relative;
      background: #fff2;
      border-radius: 17px;
      display: inline-block;
      padding: 12px 36px;
      box-shadow: 0 2px 14px #fff8;
      border: 2.5px solid #ffd6fa;
      margin-bottom: 32px;
      margin-top: 5vw;
    }
    @media (max-width: 700px) {
      .slideshow-container {
        width: 99vw;
        max-width: 99vw;
        height: 74vw;
        max-height: 62vw;
      }
      header { font-size: 2em; margin-top: 14px;}
      .caption { font-size: 1em; padding: 13px 4vw 9px 4vw;}
      .music-btn { padding: 11px 8vw;}
      #letter-btn { bottom: 70px; right: 8px; font-size: 1em;}
    }
    @media (hover:none) and (pointer:coarse) {
      header { font-size: 1.15em;}
      .caption { font-size: 0.97em;}
    }
  </style>
</head>
<body>
  <img class="decor-top" src="flor1.png" style="height:86px;left:8vw;">
  <img class="decor-top" src="flor2.png" style="height:62px;left:70vw;">
  <img class="decor-bottom" src="flor3.png" style="height:92px;left:33vw;">
  <canvas id="particles-bg"></canvas>
  <canvas id="hearts-bg"></canvas>
  <header>Nosso Amor em Memórias</header>
  <button id="letter-btn">Leia minha carta</button>
  <main>
    <div class="slideshow-container" id="slideshow"></div>
  </main>
  <audio id="bg-music" src="musica.mp3" loop preload="auto" autoplay></audio>
  <div class="music-control">
    <button class="music-btn playing" id="music-toggle" aria-label="Tocar ou pausar música">
      <svg id="music-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <rect x="5" y="5" width="5" height="14" rx="2" fill="currentColor"/>
        <rect x="14" y="5" width="5" height="14" rx="2" fill="currentColor"/>
      </svg>
      <span id="music-label">Pausar Música</span>
    </button>
  </div>
  <!-- Modal da carta -->
  <div id="letter-modal">
    <div class="letter-content">
      Querida mãe,<br><br>
      Hoje quero te agradecer por cada gesto, por cada palavra e por cada abraço que me fez crescer e acreditar no amor verdadeiro.<br>
      Você é o coração da nossa família, minha inspiração e minha maior alegria.<br>
      Que nossas memórias se multipliquem e que seu sorriso nunca falte em nossos dias.<br><br>
      Te amo mais do que posso dizer.<br>
      <span style="font-family:'Dancing Script',cursive;font-size:1.2em;">Com amor, Fabrício</span>
      <button class="close-letter">Fechar</button>
    </div>
  </div>
  <footer>
    Com todo meu amor, <span style="font-family:'Dancing Script',cursive;">Fabrício</span>
  </footer>
  <script>
    // --- SLIDESHOW CONFIG ---
    const images = [
      'img1.jpg','img2.jpg','img3.jpg','img4.jpg','img5.jpg',
      'img6.jpg','img7.jpg','img8.jpg','img9.jpg','img10.jpg'
    ];
    const texts = [
      "O amor de mãe é o primeiro lar dos nossos corações.",
      "Com você aprendi a força da ternura e a doçura da coragem.",
      "Seus abraços são as memórias mais quentes das minhas lembranças.",
      "Cada sorriso seu é um raio de sol em meus dias.",
      "Em cada gesto seu, encontro acolhimento e paz.",
      "Mãe, você é poesia viva em cada momento compartilhado.",
      "Seu cuidado moldou meu mundo e minha esperança.",
      "Nos seus olhos, vejo todo o amor que existe no universo.",
      "Por você, aprendi que o amor não tem limites nem tempo.",
      "Nossa história é feita de laços eternos e memórias preciosas.",
      "" // Para mensagem especial ao final
    ];
    const homenagem = "Mãe, nenhuma palavra será suficiente para dizer o quanto te amo. Obrigado por tudo!";

    const slideshow = document.getElementById('slideshow');
    let slides = [];
    let currentImg = 0, currentText = 0;

    // Cria imagens e captions
    images.forEach((src, idx) => {
      const img = document.createElement('img');
      img.src = src;
      img.alt = `Foto ${idx+1} - Memórias`;
      img.className = 'slide-img' + (idx === 0 ? ' active' : '');
      slideshow.appendChild(img);

      if(idx === 0) {
        const caption = document.createElement('div');
        caption.className = 'caption';
        caption.textContent = texts[0];
        img.after(caption);
        slides.push({img, caption});
      } else {
        slides.push({img});
      }
    });

    // Troca imagens a cada 15s (mais tempo)
    setInterval(() => {
      slides[currentImg].img.classList.remove('active');
      currentImg = (currentImg+1)%slides.length;
      slides[currentImg].img.classList.add('active');
    }, 15000);

    // Troca textos a cada 45s (mais tempo)
    setInterval(() => {
      let oldCap = document.querySelector('.caption');
      if(oldCap) { oldCap.classList.add('hide'); setTimeout(() => oldCap.remove(), 1000);}
      currentText = (currentText+1)%texts.length;
      let targetSlide = slides[(currentText)%slides.length];
      const caption = document.createElement('div');
      caption.className = 'caption hide';
      if(currentText === texts.length-1) { // Mensagem especial com efeito typewriter
        caption.innerHTML = '<span id="typewriter"></span>';
      } else {
        caption.textContent = texts[currentText];
      }
      targetSlide.img.after(caption);
      setTimeout(()=>caption.classList.remove('hide'),80);

      // Efeito typewriter para a mensagem final
      if(currentText === texts.length-1) {
        let i = 0;
        function typeWriter() {
          if (i < homenagem.length) {
            document.getElementById('typewriter').innerHTML += homenagem.charAt(i);
            i++;
            setTimeout(typeWriter, 55);
          }
        }
        typeWriter();
      }
    }, 45000);

    // Música
    const audio = document.getElementById('bg-music');
    const musicBtn = document.getElementById('music-toggle');
    const musicLabel = document.getElementById('music-label');
    const musicIcon = document.getElementById('music-icon');
    let playing = true;
    audio.volume = 0.55;

    window.addEventListener('DOMContentLoaded', () => {
      setTimeout(()=>audio.play().catch(()=>{}), 700);
    });

    musicBtn.addEventListener('click', () => {
      if(playing) audio.pause(); else audio.play();
    });
    audio.addEventListener('play', () => {
      playing = true;
      musicBtn.classList.add('playing');
      musicLabel.textContent = "Pausar Música";
      musicIcon.innerHTML = `
        <rect x="5" y="5" width="5" height="14" rx="2" fill="currentColor"/>
        <rect x="14" y="5" width="5" height="14" rx="2" fill="currentColor"/>
      `;
    });
    audio.addEventListener('pause', () => {
      playing = false;
      musicBtn.classList.remove('playing');
      musicLabel.textContent = "Tocar Música";
      musicIcon.innerHTML = `
        <path d="M9 19V6l12-2v13" stroke-linecap="round" stroke-linejoin="round"/>
        <circle cx="6" cy="18" r="3" />
        <circle cx="18" cy="16" r="3" />
      `;
    });

    // Carta Modal
    document.getElementById('letter-btn').onclick = function() {
      document.getElementById('letter-modal').style.display = 'flex';
    }
    document.querySelector('.close-letter').onclick = function() {
      document.getElementById('letter-modal').style.display = 'none';
    }
    document.getElementById('letter-modal').onclick = function(e) {
      if(e.target === this) this.style.display = 'none';
    }

    // ---- EFEITO DE PARTÍCULAS ----
    const canvas = document.getElementById('particles-bg');
    const ctx = canvas.getContext('2d');
    let width, height, particlesArr;
    function resizeCanvas() {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width;
      canvas.height = height;
    }
    window.addEventListener('resize', resizeCanvas);
    function createParticles() {
      particlesArr = [];
      for(let i=0;i<40;i++) {
        let radius = Math.random()*20+10;
        let color = Math.random()>0.5 ? "#f7aef8cc" : "#b388ffcc";
        particlesArr.push({
          x: Math.random()*width,
          y: Math.random()*height,
          vx: (Math.random()-0.5)*0.14,
          vy: (Math.random()-0.36)*0.11,
          r: radius,
          color,
          alpha: Math.random()*0.7+0.25
        });
      }
    }
    function drawParticles() {
      ctx.clearRect(0,0,width,height);
      for(let p of particlesArr) {
        ctx.beginPath();
        ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
        ctx.fillStyle = p.color;
        ctx.globalAlpha = p.alpha;
        ctx.shadowColor = p.color;
        ctx.shadowBlur = 25;
        ctx.fill();
        ctx.globalAlpha = 1;
        ctx.shadowBlur = 0;
        // Move
        p.x += p.vx; p.y += p.vy;
        if(p.x > width+p.r) p.x = -p.r;
        if(p.x < -p.r) p.x = width+p.r;
        if(p.y > height+p.r) p.y = -p.r;
        if(p.y < -p.r) p.y = height+p.r;
      }
      drawHearts();
      requestAnimationFrame(drawParticles);
    }
    resizeCanvas();
    createParticles();
    drawParticles();

    // ---- CORAÇÕES ANIMADOS ----
    const heartCanvas = document.getElementById('hearts-bg');
    const heartCtx = heartCanvas.getContext('2d');
    function resizeHeartsCanvas() {
      heartCanvas.width = window.innerWidth;
      heartCanvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeHeartsCanvas);
    let hearts = [];
    function createHearts() {
      hearts = [];
      for(let i=0;i<12;i++){
        hearts.push({
          x: Math.random()*window.innerWidth,
          y: window.innerHeight+Math.random()*100,
          size: 28+Math.random()*22,
          speed: 0.14+Math.random()*0.10,
          alpha: 0.5+Math.random()*0.5
        });
      }
    }
    function drawHearts(){
      heartCtx.clearRect(0,0,heartCanvas.width,heartCanvas.height);
      for(let h of hearts){
        heartCtx.save();
        heartCtx.globalAlpha = h.alpha;
        heartCtx.font = `${h.size}px serif`;
        heartCtx.fillStyle = "#ff6090";
        heartCtx.shadowColor = "#fff";
        heartCtx.shadowBlur = 16;
        heartCtx.fillText("❤", h.x, h.y);
        heartCtx.restore();
        h.y -= h.speed;
        if(h.y < -40) {
          h.x = Math.random()*window.innerWidth;
          h.y = window.innerHeight+Math.random()*80;
        }
      }
      requestAnimationFrame(drawHearts);
    }
    resizeHeartsCanvas();
    createHearts();
    drawHearts();

    // ---- FLORES FLUTUANDO ----
    function createFloatingFlowers() {
      const flowerImgs = ['flor1.png', 'flor2.png', 'flor3.png'];
      for(let i=0;i<6;i++){
        let f=document.createElement('img');
        f.src=flowerImgs[i%3];
        f.className = 'flower';
        f.style.left=Math.random()*90+'vw';
        f.style.bottom='-'+(20+Math.random()*40)+'px';
        f.style.width=30+Math.random()*30+'px';
        f.style.opacity=0.6+Math.random()*0.3;
        document.body.appendChild(f);
        (function animateFlower(f){
          let y = parseFloat(f.style.bottom);
          function move(){
            y+=0.1+Math.random()*0.07;f.style.bottom=y+'px';
            if(y<window.innerHeight+60) requestAnimationFrame(move);
            else {f.style.bottom='-'+(20+Math.random()*40)+'px';move();}
          } move();
        })(f);
      }
    }
    createFloatingFlowers();

    // ---- CHUVA DE EMOJIS BONITOS ----
    const emojis = ['💖', '🌸', '💐', '😍', '🦋', '🌟', '🥰', '💝', '🌷', '✨','🫶','👑','🎀','🍃'];
    const emojiRainCount = 30;
    function createEmojiRain() {
      for (let i = 0; i < emojiRainCount; i++) {
        const emoji = document.createElement('div');
        emoji.className = 'emoji-rain';
        emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        emoji.style.left = Math.random() * 98 + 'vw';
        emoji.style.animationDelay = (Math.random()*3) + 's';
        emoji.style.fontSize = (32 + Math.random()*26) + 'px';
        emoji.style.opacity = (0.7 + Math.random()*0.3);
        document.body.appendChild(emoji);

        emoji.addEventListener('animationend', () => {
          emoji.style.left = Math.random() * 98 + 'vw';
          emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
          emoji.style.fontSize = (32 + Math.random()*26) + 'px';
          emoji.style.opacity = (0.7 + Math.random()*0.3);
          emoji.style.animationDelay = (Math.random()*3) + 's';
          emoji.classList.remove('emoji-rain');
          void emoji.offsetWidth; // reflow
          emoji.classList.add('emoji-rain');
        });
      }
    }
    createEmojiRain();
  </script>
</body>
</html>